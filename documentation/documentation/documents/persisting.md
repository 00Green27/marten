<!--Title:Persisting Documents and Unit Of Work-->
<!--Url:persisting-->

At this point, the `IDocumentSession` is the sole [unit of work](http://martinfowler.com/eaaCatalog/unitOfWork.html) for transactional updates -- but that may change later as Marten outgrows its origin as a replacement for RavenDb. 


## Lightweight Session with Manual Tracking

The first step is to create a new <[linkto:documentation/bootstrapping;title=IDocumentSession]> with the `IDocumentStore.LightweightSession()`:


Do note that Marten's .Net API makes no distinctions between inserts and updates. The stored procedures generated by Marten to update the document storage tables perform "upserts" for you.


<[sample:lightweight_document_session_uow]>

## Dirty Tracking Session

<[sample:tracking_document_session_uow]>



See also <[linkto:documentation/documents/bulk_insert]> for an alternative for inserting a large number of one kind of document at a time. Also see the section on <[linkto:documentation/documents/identitymap]>.
